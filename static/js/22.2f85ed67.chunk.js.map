{"version":3,"sources":["components/Playground/index.js","containers/SecondPage/index.js"],"names":["Playground","props","graph","joint","dia","Graph","createTemplate","bind","removeProduct","productTemplates","this","products","map","product","name","join","p","deleteProduct","paper","Paper","el","ReactDOM","findDOMNode","refs","placeholder","width","height","gridSize","model","interactive","background","color","shapes","html","Element","basic","Rect","extend","defaults","util","deepSupplement","type","attrs","rect","stroke","prototype","ElementView","template","initialize","_","bindAll","apply","arguments","$box","$","find","on","evt","stopPropagation","e","target","parentNode","innerHTML","appendChild","css","top","position","render","$el","prepend","updateBox","bbox","getBBox","text","get","left","x","y","transform","size","label","select","rectInit","Circle","rectFinal","l1","Link","source","id","l2","attr","display","fill","d","addCells","console","log","el1","attributes","optc","l","ref","React","Component","SecondPage"],"mappings":"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","file":"static/js/22.2f85ed67.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport joint from 'jointjs/index';\nimport { layout, shapes } from 'jointjs';\nimport _ from 'lodash';\nimport $ from 'jquery';\n\nclass Playground extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.graph = new joint.dia.Graph();\n    this.createTemplate = this.createTemplate.bind(this);\n    this.removeProduct = this.removeProduct.bind(this);\n  }\n\n  createTemplate() {\n\n    const productTemplates = this.props.products.map(product => {\n      return `<div class=\"btn btn-info\" style=\"width:100%; margin-bottom:4px;\">${product.name}</div>`;\n    });\n\n    return `<div class=\"card\" style=\"padding: 8px; border: none;\">${productTemplates.join(\"\")}</div>`;\n  };\n\n  removeProduct(p){\n    this.props.deleteProduct(p);\n  };\n\n  componentDidMount(){\n    this.paper = new joint.dia.Paper({\n      el: ReactDOM.findDOMNode(this.refs.placeholder),\n      width: 1200,\n      height: 400,\n      gridSize: 10,\n      model: this.graph,\n      interactive: false,\n      background: {color: '#EFF2F7'},   \n    });\n\n    // Create a custom element.\n    // ------------------------\n\n    joint.shapes.html = {};\n    joint.shapes.html.Element = joint.shapes.basic.Rect.extend({\n        defaults: joint.util.deepSupplement({\n            type: 'html.Element',\n            attrs: {\n                rect: { stroke: 'none', 'fill-opacity': 0 }\n            }\n        }, joint.shapes.basic.Rect.prototype.defaults)\n    });\n\n\n\n    // Create a custom view for that element that displays an HTML div above it.\n    // -------------------------------------------------------------------------\n\n    joint.shapes.html.ElementView = joint.dia.ElementView.extend({\n\n      template: this.createTemplate(),\n      initialize: function() {\n          _.bindAll(this, 'updateBox');\n          joint.dia.ElementView.prototype.initialize.apply(this, arguments);\n          this.$box = $(_.template(this.template)());\n          // Prevent paper from handling pointerdown.\n          this.$box.find('input,select').on('mousedown click', function(evt) {\n              evt.stopPropagation();\n          });\n          // This is an example of reacting on the input change and storing the input data in the cell model.\n          this.$box.find('.btn').on('click', _.bind((evt) => {\n            const e = evt.target;\n            let p = e.parentNode;\n            p.innerHTML = '';\n            p.appendChild(e);\n            this.$box.css({height: '0px', top:'-8px', position: 'absolute'});\n            this.removeProduct(e.innerHTML);\n          }, this));\n      },\n      render: function() {\n          joint.dia.ElementView.prototype.render.apply(this, arguments);\n          this.paper.$el.prepend(this.$box);\n          this.updateBox();\n          return this;\n      },\n      updateBox: function() {\n          // Set the position and dimension of the box so that it covers the JointJS element.\n          var bbox = this.model.getBBox();\n          // Example of updating the HTML with a data stored in the cell model.\n          this.$box.find('label').text(this.model.get('label'));\n          this.$box.find('span').text(this.model.get('select'));\n          this.$box.css({\n              width: bbox.width,\n              height: bbox.height,\n              left: bbox.x,\n              top: bbox.y,\n              transform: 'rotate(' + (this.model.get('angle') || 0) + 'deg)'\n          });\n      },\n      removeProduct: (p) => this.removeProduct(p)\n  });\n\n\n\n    // Create JointJS elements and add them to the graph as usual.\n    // -----------------------------------------------------------\n\n    var el1 = new joint.shapes.html.Element({\n      position: { x: 300, y: 0 },\n      size: { width: 170, height: 0 },\n      label: 'I am HTML',\n      select: 'one'\n  });\n\n\n\n\n    const rectInit = new joint.shapes.basic.Circle({ \n      position: { x: 0, y: 0 },\n      size: { width: 30, height: 30 },\n      attrs: { text: { text: '+' } }\n    });\n\n    const rect = new joint.shapes.basic.Rect({ \n      position: { x: 50, y: 0 },\n      size: { width: 130, height: 30 },\n      attrs: { text: { text: 'lista de productos' } }\n    });\n\n    const rectFinal = new joint.shapes.basic.Circle({ \n      position: { x: 200, y: 0 },\n      size: { width: 30, height: 30 },\n      attrs: { text: { text: '+' } }\n    });\n    \n\n    const l1 = new joint.dia.Link({ source: { id: rectInit.id }, target: { id: rect.id }  });\n    const l2 = new joint.dia.Link({ source: { id: rect.id }, target: { id: rectFinal.id }  });\n\n    l1.attr({\n      '.marker-arrowhead[end=\"source\"]': { display: 'none'},\n      '.marker-arrowhead[end=\"target\"]': { fill: 'red', d: 'M 10 0 L 0 5 L 10 10 z' },\n      '.tool-remove': { display: 'none'},\n      '.tool-options': { display: 'none'},\n    });\n\n    l2.attr({\n      '.marker-arrowhead[end=\"source\"]': { display: 'none'},\n      '.marker-arrowhead[end=\"target\"]': { fill: 'red', d: 'M 10 0 L 0 5 L 10 10 z' },\n      '.tool-remove': { display: 'none'},\n      '.tool-options': { display: 'none'},\n    });\n\n    this.graph.addCells([rectInit, rect, rectFinal, l1, l2]);\n\n\n    this.paper.on('element:pointerclick', (e, evt, x, y) => {\n\n\n      console.log(e);\n      console.log(evt);\n      console.log(x);\n      console.log(y);\n\n      if(e.model.attr('text/text') === '+') {\n\n        var el1 = new joint.shapes.html.Element({\n          position: { x: e.model.attributes.position.x + e.model.attributes.size.width + 30 , y: e.model.attributes.position.y },\n          size: { width: 120, height: 40 },\n        });\n  \n        const optc = new joint.shapes.basic.Circle({ \n          position: { x: el1.attributes.position.x + el1.attributes.size.width + 30, y: el1.attributes.position.y },\n          size: { width: 30, height: 30 },\n          attrs: { text: { text: '+' } }\n        });\n  \n        const l = new joint.dia.Link({ source: { id: e.model.id }, target: { id: el1.id }  });\n        const l2 = new joint.dia.Link({ source: { id: el1.id }, target: { id: optc.id }  });\n  \n        l.attr({\n          '.marker-arrowhead[end=\"source\"]': { display: 'none'},\n          '.marker-arrowhead[end=\"target\"]': { fill: 'red', d: 'M 10 0 L 0 5 L 10 10 z' },\n          '.tool-remove': { display: 'none'},\n          '.tool-options': { display: 'none'},\n        });\n  \n        l2.attr({\n          '.marker-arrowhead[end=\"source\"]': { display: 'none'},\n          '.marker-arrowhead[end=\"target\"]': { fill: 'red', d: 'M 10 0 L 0 5 L 10 10 z' },\n          '.tool-remove': { display: 'none'},\n          '.tool-options': { display: 'none'},\n        });\n  \n        this.graph.addCells([el1, optc, l, l2]);\n      }\n\n\n    });\n\n  }\n\n  render(){\n    return (<div id=\"playground\" ref=\"placeholder\"></div>);\n  }\n\n}\n\nexport default Playground;","import React from 'react';\n\nimport Playground from './../../components/Playground';\n\n\nfunction SecondPage() {\n  return (\n    <div>\n      <h1>Home2 :D</h1>\n      <Playground />\n    </div>\n  );\n}\n\nexport default SecondPage;"],"sourceRoot":""}