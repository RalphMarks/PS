(window.webpackJsonpps=window.webpackJsonpps||[]).push([[12],{126:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){return r.a.createElement("img",{className:e.className,src:e.src,alt:e.alt,style:e.style})}},306:function(e,t,a){e.exports=a.p+"static/media/Search.d50e8c79.svg"},366:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(0),l=a.n(r),o=a(91),c=a.n(o),s=a(76),i=a(126),m=function(e){return l.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"20vh"}},l.a.createElement("table",{className:"col-8 table table-sm table-striped",style:{backgroundColor:"white"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"ID"),l.a.createElement("th",{scope:"col"},"Nombre"),l.a.createElement("th",{scope:"col"},"Email"),l.a.createElement("th",{scope:"col"},"Tel\xe9fono"),l.a.createElement("th",{scope:"col"},"Cumplea\xf1os"))),l.a.createElement("tbody",null,e.employees.map((function(t){return l.a.createElement("tr",{onClick:function(){return e.onChangeUpdateFormVisibility(t)},style:{cursor:"pointer"}},l.a.createElement("th",{scope:"row"},"1"),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.phone),l.a.createElement("td",null,"object"===typeof t.birthday?t.birthday.toLocaleDateString("es-MX"):new Date(t.birthday).toLocaleDateString()))})))))},p=a(306),u=a.n(p),d=a(106),E=a.n(d),b=(a(201),a(203)),f=a(71),h=a(17),y=a(10),g=a(72),v=a(75),j=a(79),O="ps/EmployeesPage/CHANGE_NAME",N="ps/EmployeesPage/CHANGE_EMAIL",C="ps/EmployeesPage/CHANGE_PHONE",P="ps/EmployeesPage/CHANGE_BIRTHDAY",w="ps/EmployeesPage/CHANGE_FORM_VISIBILITY",k="ps/EmployeesPage/CHANGE_UPDATE_FORM_VISIBILITY",x="ps/EmployeesPage/CREATE_EMPLOYEE",S="ps/EmployeesPage/CHANGE_FILTERTEXT",T="ps/EmployeesPage/UPDATE_EMPLOYEE",F="ps/EmployeesPage/CHANGE_EMPLOYEE_NAME",_="ps/EmployeesPage/CHANGE_EMPLOYEE_EMAIL",V="ps/EmployeesPage/CHANGE_EMPLOYEE_PHONE",A="ps/EmployeesPage/CHANGE_EMPLOYEE_BIRTHDAY",U="ps/EmployeesPage/RESET_CREATE_EMPL_FORM",D="ps/EmployeesPage/LOAD_EMPLOYEES";function I(e){return{type:T,updatedEmployee:e}}function R(e){return console.log("actions ssss"),{type:D,data:e}}var L=a(80),M={name:"",email:"",phone:"",birthday:new Date,isEmplFormVisible:!1,isUpdteEmplFormVisible:!1,employees:[],filterText:"",selectedEmplForUpdate:void 0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;return Object(L.a)(e,(function(e){switch(t.type){case O:e.name=t.name;break;case N:e.email=t.email;break;case C:e.phone=t.phone;break;case P:e.birthday=t.birthday;break;case w:e.isEmplFormVisible=!e.isEmplFormVisible;break;case x:e.employees=e.employees.concat([t.newEmplData]);break;case U:e.isEmplFormVisible=!1,e.name="",e.phone="",e.email="",e.birthday=new Date;break;case S:e.filterText=t.filterText;break;case k:e.isUpdteEmplFormVisible=!e.isUpdteEmplFormVisible,e.selectedEmplForUpdate=t.emplData;break;case T:var a=e.employees,n=a.findIndex((function(t){return t.name===e.selectedEmplForUpdate.name}));console.log(a[n]),e.employees[n]=e.selectedEmplForUpdate,e.isEmplFormVisible=!1,e.isUpdteEmplFormVisible=!1;break;case F:e.selectedEmplForUpdate.name=t.newValue;break;case _:e.selectedEmplForUpdate.email=t.newValue;break;case V:e.selectedEmplForUpdate.phone=t.newValue;break;case A:e.selectedEmplForUpdate.birthday=t.newValue;break;case D:console.log("employeeeeees"),e.employees=t.data}}))},Y=function(e){return e.employees||M},B=function(){return Object(g.a)(Y,(function(e){return e.name}))},G=function(){return Object(g.a)(Y,(function(e){return e.email}))},z=function(){return Object(g.a)(Y,(function(e){return e.phone}))},J=function(){return Object(g.a)(Y,(function(e){return e.birthday}))},X=a(85),W=a.n(X),q=a(86),K=a(77),Q=W.a.mark($),Z=W.a.mark(ee);function $(){var e,t,a,n,r,l,o;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(q.c)(B());case 2:return e=c.sent,c.next=5,Object(q.c)(G());case 5:return t=c.sent,c.next=8,Object(q.c)(z());case 8:return a=c.sent,c.next=11,Object(q.c)(J());case 11:return n=c.sent,r="".concat(Object(f.a)(),"/employees"),c.prev=13,l=localStorage.getItem("PointOfSaleToken"),c.next=17,Object(q.a)(K.a,r,{body:JSON.stringify({name:e,email:t,phone:a,birthday:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},method:"POST"});case 17:return o=c.sent,console.log(o),c.next=21,Object(q.b)({type:U});case 21:c.next=27;break;case 23:c.prev=23,c.t0=c.catch(13),console.log("err"),console.log(c.t0);case 27:case"end":return c.stop()}}),Q,null,[[13,23]])}function ee(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(x,$);case 2:case"end":return e.stop()}}),Z)}a.d(t,"EmployeesPage",(function(){return re})),a.d(t,"mapDispatchToProps",(function(){return oe}));var te="employees";Object(d.registerLocale)("es",b.a);var ae=function(e){return l.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"5vh"}},l.a.createElement("div",{className:"col-4 card"},l.a.createElement("div",{className:"card-body",style:{textAlign:"left"}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Nombre(s)"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre(s)",value:e.name,onChange:e.onChangeName})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",value:e.email,onChange:e.onChangeEmail})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Tel\xe9fono"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Tel\xe9fono",value:e.phone,onChange:e.onChangePhone})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Cumplea\xf1os")," ",l.a.createElement("br",null),l.a.createElement(E.a,{locale:"es",className:"form-control",selected:new Date(e.birthday),onSelect:e.onChangeBirthday,showMonthDropdown:!0,showYearDropdown:!0})),l.a.createElement("div",{className:"btn btn-dark",onClick:function(){return e.createEmployee(e.name,e.email,e.phone,e.birthday)}},"Crear"))))},ne=function(e){return l.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"5vh"}},l.a.createElement("div",{className:"col-4 card"},l.a.createElement("div",{className:"card-body",style:{textAlign:"left"}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Nombre(s)"),l.a.createElement("input",{name:"updatedName",type:"text",className:"form-control",placeholder:"Nombre(s)",value:e.employee.name,onChange:function(t){return e.onChangeUpdateEmpl("name",t.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{name:"updatedEmail",type:"email",className:"form-control",placeholder:"Email",value:e.employee.email})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Tel\xe9fono"),l.a.createElement("input",{name:"updatedPhone",type:"text",className:"form-control",placeholder:"Tel\xe9fono",value:e.employee.phone})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Cumplea\xf1os")," ",l.a.createElement("br",null),l.a.createElement(E.a,{locale:"es",name:"updatedBirthday",className:"form-control",selected:new Date(e.employee.birthday),showMonthDropdown:!0,showYearDropdown:!0})),l.a.createElement("div",{className:"btn btn-dark",onClick:e.updateEmploye},"Actualizar"))))};function re(e){var t,a=e.employees,o=e.name,p=e.email,d=e.phone,E=e.birthday,b=e.isEmplFormVisible,h=e.isUpdtEmplFormVisible,y=e.filterText,g=e.filteredEmployees,O=e.toUpdteEmployee,N=e.onChangeName,C=e.onChangeEmail,P=e.onChangePhone,w=e.onChangeBirthday,k=e.onChangeEmplFormVisibility,x=e.onChangeUpdateFormVisibility,S=e.createEmployee,T=e.onChangeFilterText,F=e.onChangeUpdateEmpl,_=e.onLoadEmployees;return Object(v.a)({key:te,reducer:H}),Object(j.a)({key:te,saga:ee}),Object(r.useEffect)((function(){var e="".concat(Object(f.a)(),"/employees");try{var t=localStorage.getItem("PointOfSaleToken");c.a.get(e,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){var t=e.data;_(t.data)}))}catch(a){console.log("err"),console.log(a)}}),[]),l.a.createElement("div",null,l.a.createElement(s.a,{is_active:"employees"}),l.a.createElement("h1",null,"Empleados"),l.a.createElement("div",{style:{position:"absolute",top:"64px",right:"320px"}},l.a.createElement("div",{className:"btn btn-dark",onClick:k},"Crear empleado")),l.a.createElement("div",{style:{position:"absolute",top:"64px",right:"8px",width:"240px"}},l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement(i.a,{src:u.a,alt:"desc",style:{width:"16px",heigth:"100%"}}))),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Buscar",value:y,onChange:T}))),b?l.a.createElement(ae,(t={birthday:E,name:o,email:p,phone:d},Object(n.a)(t,"birthday",E),Object(n.a)(t,"onChangeName",N),Object(n.a)(t,"onChangeEmail",C),Object(n.a)(t,"onChangePhone",P),Object(n.a)(t,"onChangeBirthday",w),Object(n.a)(t,"createEmployee",S),t)):h?l.a.createElement(ne,{employee:O,updateEmploye:I,onChangeUpdateEmpl:F}):l.a.createElement(m,{employees:""===y?a:g,onChangeUpdateFormVisibility:x}))}var le=Object(g.b)({name:B(),email:G(),phone:z(),birthday:J(),isEmplFormVisible:Object(g.a)(Y,(function(e){return e.isEmplFormVisible})),isUpdtEmplFormVisible:Object(g.a)(Y,(function(e){return e.isUpdteEmplFormVisible})),employees:Object(g.a)(Y,(function(e){return e.employees})),filterText:Object(g.a)(Y,(function(e){return e.filterText})),filteredEmployees:Object(g.a)(Y,(function(e){return e.employees.filter((function(t){return t.name.startsWith(e.filterText)}))})),toUpdteEmployee:Object(g.a)(Y,(function(e){return e.selectedEmplForUpdate}))});function oe(e){return{onChangeEmplFormVisibility:function(){return e({type:w,isEmplFormVisible:t});var t},onChangeName:function(t){return e((a=t.target.value,{type:O,name:a}));var a},onChangeEmail:function(t){return e((a=t.target.value,{type:N,email:a}));var a},onChangePhone:function(t){return e((a=t.target.value,{type:C,phone:a}));var a},onChangeBirthday:function(t){return e({type:P,birthday:t})},createEmployee:function(t,a,n,r){return e({type:x,newEmplData:{name:t,email:a,phone:n,birthday:r}})},onChangeFilterText:function(t){return e((a=t.target.value,{type:S,filterText:a}));var a},onChangeUpdateFormVisibility:function(t){return e({type:k,emplData:t})},updateEmployee:function(){return e(I())},onChangeUpdateEmpl:function(t,a){return e(function(e,t){switch(e){case"name":return{type:F,newValue:t};case"email":return{type:_,newValue:t};case"phone":return{type:V,newValue:t};default:return{type:A,newValue:t}}}(t,a))},onLoadEmployees:function(t){return e(R(t))}}}var ce=Object(h.c)(le,oe);t.default=Object(y.d)(ce,r.memo)(re)},70:function(e,t,a){"use strict";function n(e){return!0}a.d(t,"a",(function(){return n}))},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){return"https://5ec3621d.ngrok.io"}},75:function(e,t,a){"use strict";a(64),a(65),a(68),a(66),a(69);var n=a(0),r=a.n(n),l=(a(14),a(17)),o=a(1),c=a.n(o),s=a(74),i=a(70),m=a(30);function p(e,t){return function(a,n){t||Object(i.a)(e),c()(Object(s.isString)(a)&&!Object(s.isEmpty)(a)&&Object(s.isFunction)(n),"(src/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,a)&&e.injectedReducers[a]===n||(e.injectedReducers[a]=n,e.replaceReducer(Object(m.a)(e.injectedReducers)))}}function u(e){return Object(i.a)(e),{injectReducer:p(e,!0)}}a.d(t,"a",(function(){return d}));var d=function(e){var t=e.key,a=e.reducer,n=r.a.useContext(l.b);r.a.useEffect((function(){u(n.store).injectReducer(t,a)}),[])}},76:function(e,t,a){"use strict";var n=a(64),r=a(65),l=a(68),o=a(66),c=a(69),s=a(0),i=a.n(s),m=a(5),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={is_loggedIn:!0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},this.state.is_loggedIn?null:i.a.createElement(m.a,{to:"/PS/login"}),i.a.createElement("a",{className:"navbar-brand",href:"#"},"PS"),i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement("li",{className:"dashboard"===this.props.is_active?"nav-item active":"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/PS/dashboard"},"Dashboard")),i.a.createElement("li",{className:"employees"===this.props.is_active?"nav-item active":"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/PS/employees"},"Employees")),i.a.createElement("li",{className:"product"===this.props.is_active?"nav-item active":"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/PS/ultimate"},"Products")),i.a.createElement("li",{className:"analytics"===this.props.is_active?"nav-item active":"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/PS/analytics"},"Analytics")),i.a.createElement("li",{className:"flow"===this.props.is_active?"nav-item active":"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/PS/flow"},"Flujo")),i.a.createElement("li",{className:"cash"===this.props.is_active?"nav-item active":"nav-item"},i.a.createElement("a",{className:"nav-link",href:"/PS/cash"},"Caja"))),i.a.createElement("span",{className:"navbar-text",style:{cursor:"pointer"},onClick:function(){localStorage.removeItem("PointOfSaleToken"),e.setState({is_loggedIn:!1})}},"Cerrar Sesi\xf3n")))}}]),t}(i.a.Component);t.a=p},77:function(e,t,a){"use strict";function n(e){return 204===e.status||205===e.status?null:e.json()}function r(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function l(e,t){return fetch(e,t).then(r).then(n)}a.d(t,"a",(function(){return l}))},79:function(e,t,a){"use strict";a(64),a(65),a(68),a(66),a(69);var n=a(0),r=a.n(n),l=(a(14),a(17)),o=a(31),c=a(1),s=a.n(c),i=a(74),m=a(70),p="@@saga-injector/daemon",u="@@saga-injector/once-till-unmount";function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=function(e){return s()(Object(i.isString)(e)&&!Object(i.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")};function f(e,t){return function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;t||Object(m.a)(e);var l=E({},n,{mode:n.mode||p}),o=l.saga,c=l.mode;b(a);var s=Reflect.has(e.injectedSagas,a);(!s||s&&c!==p&&c!==u)&&(e.injectedSagas[a]=E({},l,{task:e.runSaga(o,r)}))}}function h(e,t){return function(a){if(t||Object(m.a)(e),b(a),Reflect.has(e.injectedSagas,a)){var n=e.injectedSagas[a];n.mode&&n.mode!==p&&(n.task.cancel(),e.injectedSagas[a]="done")}}}function y(e){return Object(m.a)(e),{injectSaga:f(e,!0),ejectSaga:h(e,!0)}}a.d(t,"a",(function(){return g}));var g=function(e){var t=e.key,a=e.saga,n=e.mode,o=r.a.useContext(l.b);r.a.useEffect((function(){var e=y(o.store);return e.injectSaga(t,{saga:a,mode:n}),function(){e.ejectSaga(t)}}),[])}}}]);
//# sourceMappingURL=12.0fd92b3b.chunk.js.map