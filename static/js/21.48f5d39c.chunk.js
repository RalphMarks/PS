(window.webpackJsonpps=window.webpackJsonpps||[]).push([[21],{145:function(e,t,a){"use strict";var i=a(65),n=a(66),r=a(68),o=a(67),s=a(94),l=a(69),c=a(0),d=a.n(c),m=a(23),p=a.n(m),h=a(146),u=a.n(h),f=(a(147),a(73)),b=a.n(f),g=a(148),y=a.n(g),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).graph=new u.a.dia.Graph,a.createTemplate=a.createTemplate.bind(Object(s.a)(a)),a.removeProduct=a.removeProduct.bind(Object(s.a)(a)),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"createTemplate",value:function(){var e=this.props.products.map((function(e){return'<div class="btn btn-info" style="width:100%; margin-bottom:4px;">'.concat(e.name,"</div>")}));return'<div class="card" style="padding: 8px; border: none;">'.concat(e.join(""),"</div>")}},{key:"removeProduct",value:function(e){this.props.deleteProduct(e)}},{key:"componentDidMount",value:function(){var e=this;this.paper=new u.a.dia.Paper({el:p.a.findDOMNode(this.refs.placeholder),width:1200,height:400,gridSize:10,model:this.graph,interactive:!1,background:{color:"#EFF2F7"}}),u.a.shapes.html={},u.a.shapes.html.Element=u.a.shapes.basic.Rect.extend({defaults:u.a.util.deepSupplement({type:"html.Element",attrs:{rect:{stroke:"none","fill-opacity":0}}},u.a.shapes.basic.Rect.prototype.defaults)}),u.a.shapes.html.ElementView=u.a.dia.ElementView.extend({template:this.createTemplate(),initialize:function(){var e=this;b.a.bindAll(this,"updateBox"),u.a.dia.ElementView.prototype.initialize.apply(this,arguments),this.$box=y()(b.a.template(this.template)()),this.$box.find("input,select").on("mousedown click",(function(e){e.stopPropagation()})),this.$box.find(".btn").on("click",b.a.bind((function(t){var a=t.target,i=a.parentNode;i.innerHTML="",i.appendChild(a),e.$box.css({height:"0px",top:"-8px",position:"absolute"}),e.removeProduct(a.innerHTML)}),this))},render:function(){return u.a.dia.ElementView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox();this.$box.find("label").text(this.model.get("label")),this.$box.find("span").text(this.model.get("select")),this.$box.css({width:e.width,height:e.height,left:e.x,top:e.y,transform:"rotate("+(this.model.get("angle")||0)+"deg)"})},removeProduct:function(t){return e.removeProduct(t)}});new u.a.shapes.html.Element({position:{x:300,y:0},size:{width:170,height:0},label:"I am HTML",select:"one"});var t=new u.a.shapes.basic.Circle({position:{x:0,y:0},size:{width:30,height:30},attrs:{text:{text:"+"}}}),a=new u.a.shapes.basic.Rect({position:{x:50,y:0},size:{width:130,height:30},attrs:{text:{text:"lista de productos"}}}),i=new u.a.shapes.basic.Circle({position:{x:200,y:0},size:{width:30,height:30},attrs:{text:{text:"+"}}}),n=new u.a.dia.Link({source:{id:t.id},target:{id:a.id}}),r=new u.a.dia.Link({source:{id:a.id},target:{id:i.id}});n.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),r.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),this.graph.addCells([t,a,i,n,r]),this.paper.on("element:pointerclick",(function(t,a,i,n){if(console.log(t),console.log(a),console.log(i),console.log(n),"+"===t.model.attr("text/text")){var r=new u.a.shapes.html.Element({position:{x:t.model.attributes.position.x+t.model.attributes.size.width+30,y:t.model.attributes.position.y},size:{width:120,height:40}}),o=new u.a.shapes.basic.Circle({position:{x:r.attributes.position.x+r.attributes.size.width+30,y:r.attributes.position.y},size:{width:30,height:30},attrs:{text:{text:"+"}}}),s=new u.a.dia.Link({source:{id:t.model.id},target:{id:r.id}}),l=new u.a.dia.Link({source:{id:r.id},target:{id:o.id}});s.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),l.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),e.graph.addCells([r,o,s,l])}}))}},{key:"render",value:function(){return d.a.createElement("div",{id:"playground",ref:"placeholder"})}}]),t}(d.a.Component);t.a=v},421:function(e,t,a){"use strict";a.r(t);var i=a(30),n=a(65),r=a(66),o=a(68),s=a(67),l=a(94),c=a(69),d=a(0),m=a.n(d),p=a(146),h=a.n(p),u=(a(23),a(145)),f=function(e){return m.a.createElement("div",{className:"card",style:{width:"18rem",textAlign:"left",margin:"8px"}},m.a.createElement("div",{className:"card-body"},m.a.createElement("h5",{className:"card-title"},e.name),m.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Tipo: ",e.type),e.modifiers.map((function(e){return m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-info",style:{width:"100%",margin:"4px 0 4px 0"}},m.a.createElement("span",{style:{float:"left"}},e.name),m.a.createElement("span",{style:{float:"right"}},e.cost)))})),m.a.createElement("div",{className:"btn btn-primary",style:{width:"100%",marginTop:"24px"},onClick:function(){e.addModifier(e.name,e.type)}},"+")))},b=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).graph=new h.a.dia.Graph,a.state={newProduct:"",products:[{name:"Tama\xf1o",type:"Producto a",modifiers:[{name:"grande",cost:"50"},{name:"mediano",cost:"40"},{name:"peque",cost:"30"}]},{name:"Tipo de leche",type:"Producto a",modifiers:[{name:"natural",cost:"0"},{name:"deslactosada",cost:"10"},{name:"almendra",cost:"15"}]},{name:"Textura",type:"Producto a",modifiers:[{name:"iced",cost:"0"},{name:"cold",cost:"0"},{name:"hot",cost:"0"}]}],isVisiblePrdForm:!1,newPrdSelect:"",prdsSelect:["producto a"],selectedPrd:"",createModifierBlock:"",createModifierProduct:"",isVisibleCreateModifier:!1,createModifierName:"",createModifierHasCost:!1,createModifierCost:"",isVisibleChart:!1},a.handleInputChange=a.handleInputChange.bind(Object(l.a)(a)),a.createProduct=a.createProduct.bind(Object(l.a)(a)),a.deleteProduct=a.deleteProduct.bind(Object(l.a)(a)),a.addModifier=a.addModifier.bind(Object(l.a)(a)),a.createModifier=a.createModifier.bind(Object(l.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"createProduct",value:function(){var e=this.state.products,t=this.state.newProduct,a=this.state.selectedPrd;this.setState({products:e.concat({name:t,type:a,modifiers:[]}),newProduct:""})}},{key:"deleteProduct",value:function(e){var t=this.state.products.filter((function(t){return t.name!==e}));this.setState({products:t})}},{key:"addModifier",value:function(e,t){this.setState({createModifierBlock:e,createModifierProduct:t,isVisibleCreateModifier:!0})}},{key:"createModifier",value:function(){var e=this,t=this.state.createModifierName,a=this.state.createModifierCost,i=this.state.products,n=function(t){return t.name===e.state.createModifierBlock},r=i.find(n),o=i.findIndex(n);r.modifiers=r.modifiers.concat({name:t,cost:a}),i[o]=r,this.setState({products:i,isVisibleCreateModifier:!1,createModifierName:"",createModifierCost:""})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("h1",null,"Blocks"),m.a.createElement("div",{className:"form-group "+(this.state.isVisibleChart?"":"d-none"),style:{position:"absolute",width:"100vw",height:"100vh",backgroundColor:"#EFF2F7",zIndex:"1"}},m.a.createElement(u.a,{products:this.state.products,deleteProduct:this.deleteProduct})),m.a.createElement("div",{className:"form-group "+(this.state.isVisibleCreateModifier?"":"d-none"),style:{position:"absolute",right:"0",top:"0",margin:"16px 16px 0 0",textAlign:"left"}},m.a.createElement("label",null,"Agregar Modificador"),m.a.createElement("input",{type:"text",name:"createModifierName",className:"form-control",placeholder:"Modificador",onChange:this.handleInputChange}),m.a.createElement("div",{className:"form-check"},m.a.createElement("input",{className:"form-check-input",name:"createModifierHasCost",type:"checkbox",checked:this.state.createModifierHasCost,onChange:this.handleInputChange}),m.a.createElement("label",{className:"form-check-label"},"Tiene costo?")),m.a.createElement("div",{className:"form-group "+(this.state.createModifierHasCost?"":"d-none")},m.a.createElement("input",{type:"text",name:"createModifierCost",className:"form-control",placeholder:"$ Costo",onChange:this.handleInputChange})),m.a.createElement("div",{className:"btn btn-primary",style:{width:"100%",marginTop:"8px"},onClick:this.createModifier}," Agregar ")),m.a.createElement("div",{className:"form-group "+(this.state.isVisiblePrdForm?"":"d-none"),style:{position:"absolute",right:"0",top:"0",margin:"16px 16px 0 0",textAlign:"left"}},m.a.createElement("label",null,"Agregar Producto"),m.a.createElement("input",{type:"text",value:this.state.newPrdSelect,className:"form-control",name:"newPrdSelect",onChange:this.handleInputChange,placeholder:"Agregar Producto"}),m.a.createElement("div",{className:"btn btn-primary",style:{width:"100%",marginTop:"8px"},onClick:function(){e.setState({prdsSelect:e.state.prdsSelect.concat(e.state.newPrdSelect),isVisiblePrdForm:!1,newPrdSelect:""})}}," Agregar ")),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("div",{className:"col-6 form-group",style:{textAlign:"left"}},m.a.createElement("label",null,"Nuevo"),m.a.createElement("input",{type:"text",value:this.state.newProduct,className:"form-control",placeholder:"Nuevo",name:"newProduct",onChange:this.handleInputChange}))),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("div",{className:"col-6 form-group",style:{textAlign:"left"}},m.a.createElement("div",{className:"input-group"},m.a.createElement("select",{className:"form-control",name:"selectedPrd",onChange:this.handleInputChange},m.a.createElement("option",null,"Seleccionar un producto"),this.state.prdsSelect.map((function(e){return m.a.createElement("option",null,e)}))),m.a.createElement("div",{className:"input-group-append",onClick:function(){e.setState({isVisiblePrdForm:!0})}},m.a.createElement("span",{className:"input-group-text"}," + "))))),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("div",{className:"btn btn-primary",onClick:this.createProduct,style:{margin:"20px"}},"Crear"),m.a.createElement("div",{className:"btn btn-primary",onClick:function(){return e.setState({isVisibleChart:!0})},style:{margin:"20px"}},"Crear flujos")),m.a.createElement("div",{className:"row"},this.state.products.map((function(t){return m.a.createElement(f,{name:t.name,type:t.type,modifiers:t.modifiers,addModifier:e.addModifier})}))))}}]),t}(m.a.Component);t.default=b}}]);
//# sourceMappingURL=21.48f5d39c.chunk.js.map