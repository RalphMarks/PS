(window.webpackJsonpps=window.webpackJsonpps||[]).push([[22],{145:function(e,t,i){"use strict";var a=i(65),o=i(66),n=i(68),r=i(67),s=i(94),d=i(69),l=i(0),p=i.n(l),h=i(23),c=i.n(h),u=i(146),m=i.n(u),b=(i(147),i(73)),w=i.n(b),g=i(148),x=i.n(g),f=function(e){function t(e){var i;return Object(a.a)(this,t),(i=Object(n.a)(this,Object(r.a)(t).call(this,e))).graph=new m.a.dia.Graph,i.createTemplate=i.createTemplate.bind(Object(s.a)(i)),i.removeProduct=i.removeProduct.bind(Object(s.a)(i)),i}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createTemplate",value:function(){var e=this.props.products.map((function(e){return'<div class="btn btn-info" style="width:100%; margin-bottom:4px;">'.concat(e.name,"</div>")}));return'<div class="card" style="padding: 8px; border: none;">'.concat(e.join(""),"</div>")}},{key:"removeProduct",value:function(e){this.props.deleteProduct(e)}},{key:"componentDidMount",value:function(){var e=this;this.paper=new m.a.dia.Paper({el:c.a.findDOMNode(this.refs.placeholder),width:1200,height:400,gridSize:10,model:this.graph,interactive:!1,background:{color:"#EFF2F7"}}),m.a.shapes.html={},m.a.shapes.html.Element=m.a.shapes.basic.Rect.extend({defaults:m.a.util.deepSupplement({type:"html.Element",attrs:{rect:{stroke:"none","fill-opacity":0}}},m.a.shapes.basic.Rect.prototype.defaults)}),m.a.shapes.html.ElementView=m.a.dia.ElementView.extend({template:this.createTemplate(),initialize:function(){var e=this;w.a.bindAll(this,"updateBox"),m.a.dia.ElementView.prototype.initialize.apply(this,arguments),this.$box=x()(w.a.template(this.template)()),this.$box.find("input,select").on("mousedown click",(function(e){e.stopPropagation()})),this.$box.find(".btn").on("click",w.a.bind((function(t){var i=t.target,a=i.parentNode;a.innerHTML="",a.appendChild(i),e.$box.css({height:"0px",top:"-8px",position:"absolute"}),e.removeProduct(i.innerHTML)}),this))},render:function(){return m.a.dia.ElementView.prototype.render.apply(this,arguments),this.paper.$el.prepend(this.$box),this.updateBox(),this},updateBox:function(){var e=this.model.getBBox();this.$box.find("label").text(this.model.get("label")),this.$box.find("span").text(this.model.get("select")),this.$box.css({width:e.width,height:e.height,left:e.x,top:e.y,transform:"rotate("+(this.model.get("angle")||0)+"deg)"})},removeProduct:function(t){return e.removeProduct(t)}});new m.a.shapes.html.Element({position:{x:300,y:0},size:{width:170,height:0},label:"I am HTML",select:"one"});var t=new m.a.shapes.basic.Circle({position:{x:0,y:0},size:{width:30,height:30},attrs:{text:{text:"+"}}}),i=new m.a.shapes.basic.Rect({position:{x:50,y:0},size:{width:130,height:30},attrs:{text:{text:"lista de productos"}}}),a=new m.a.shapes.basic.Circle({position:{x:200,y:0},size:{width:30,height:30},attrs:{text:{text:"+"}}}),o=new m.a.dia.Link({source:{id:t.id},target:{id:i.id}}),n=new m.a.dia.Link({source:{id:i.id},target:{id:a.id}});o.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),n.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),this.graph.addCells([t,i,a,o,n]),this.paper.on("element:pointerclick",(function(t,i,a,o){if(console.log(t),console.log(i),console.log(a),console.log(o),"+"===t.model.attr("text/text")){var n=new m.a.shapes.html.Element({position:{x:t.model.attributes.position.x+t.model.attributes.size.width+30,y:t.model.attributes.position.y},size:{width:120,height:40}}),r=new m.a.shapes.basic.Circle({position:{x:n.attributes.position.x+n.attributes.size.width+30,y:n.attributes.position.y},size:{width:30,height:30},attrs:{text:{text:"+"}}}),s=new m.a.dia.Link({source:{id:t.model.id},target:{id:n.id}}),d=new m.a.dia.Link({source:{id:n.id},target:{id:r.id}});s.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),d.attr({'.marker-arrowhead[end="source"]':{display:"none"},'.marker-arrowhead[end="target"]':{fill:"red",d:"M 10 0 L 0 5 L 10 10 z"},".tool-remove":{display:"none"},".tool-options":{display:"none"}}),e.graph.addCells([n,r,s,d])}}))}},{key:"render",value:function(){return p.a.createElement("div",{id:"playground",ref:"placeholder"})}}]),t}(p.a.Component);t.a=f},420:function(e,t,i){"use strict";i.r(t);var a=i(0),o=i.n(a),n=i(145);t.default=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Home2 :D"),o.a.createElement(n.a,null))}}}]);
//# sourceMappingURL=22.2f85ed67.chunk.js.map