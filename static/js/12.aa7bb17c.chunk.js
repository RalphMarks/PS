(window.webpackJsonpps=window.webpackJsonpps||[]).push([[12],{222:function(e,t){},223:function(e,t){},241:function(e,t){},243:function(e,t){},375:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(5),o=n(18),i=n(10),u=n(74),s=n(77),l=n(81),d="ps/LoginPage/CHANGE_CODE",f="ps/LoginPage/CHANGE_EMAIL",p="ps/LoginPage/CHECK_CREDENTIALS",m="ps/LoginPage/CREATE_SESSION";var g=n(82),j={code:"",email:"",wasAccepted:!1,owner:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(e){switch(t.type){case d:e.code=t.code;break;case f:e.email=t.email;break;case m:e.wasAccepted=!0,e.owner=t.owner}}))},O=function(e){return e.login||j},v=function(){return Object(u.a)(O,(function(e){return e.code}))},E=function(){return Object(u.a)(O,(function(e){return e.email}))},h=n(88),y=n.n(h),w=n(73),C=n(92),S=n(79),k=y.a.mark(R),x=y.a.mark(N);n(218);function R(){var e,t,n,c;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(C.c)(v());case 2:return e=r.sent,r.next=5,Object(C.c)(E());case 5:return t=r.sent,n="".concat(Object(w.a)(),"/authentication"),r.prev=7,r.next=10,Object(C.a)(S.a,n,{body:JSON.stringify({code:e,email:t,strategy:"local"}),headers:{"Content-Type":"application/json"},method:"POST"});case 10:return c=r.sent,localStorage.setItem("PointOfSaleToken",c.accessToken),console.log(c),r.next=15,Object(C.b)((a=c.user,{type:m,owner:a}));case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(7),console.log("err"),console.log(r.t0);case 21:case"end":return r.stop()}var a}),k,null,[[7,17]])}function N(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(p,R);case 2:case"end":return e.stop()}}),x)}n.d(t,"LoginPage",(function(){return I})),n.d(t,"mapDispatchToProps",(function(){return T}));var P="login";function I(e){var t=e.code,n=e.email,c=e.wasAccepted,o=e.onChangeCode,i=e.onChangeEmail,u=e.checkCredentials;return Object(s.a)({key:P,reducer:b}),Object(l.a)({key:P,saga:N}),r.a.createElement("div",{className:"row justify-content-center"},c?r.a.createElement(a.a,{to:"/dashboard"}):null,r.a.createElement("div",{className:"col-4",style:{marginTop:"calc(50vh - 160px)"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"INGRESAR CORREO ELECTR\xd3NICO"),r.a.createElement("input",{type:"email",className:"form-control",value:n,onChange:i,placeholder:"Ingresar correo electr\xf3nico"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"INGRESAR C\xd3DIGO"),r.a.createElement("input",{type:"password",className:"form-control",value:t,onChange:o,placeholder:"Ingresar C\xf3digo"}),r.a.createElement("small",{className:"form-text text-muted"},"Tu c\xf3digo es personal, no lo compartas con nadie.")))),r.a.createElement("div",{className:"btn btn-dark",style:{marginTop:"24px",width:"160px"},onClick:function(){return u(t,n)}},"Ingresar")))}var A=Object(u.b)({code:v(),email:E(),wasAccepted:Object(u.a)(O,(function(e){return e.wasAccepted}))});function T(e){return{onChangeCode:function(t){return e((n=t.target.value,{type:d,code:n}));var n},onChangeEmail:function(t){return e((n=t.target.value,{type:f,email:n}));var n},checkCredentials:function(t,n){console.log("click"),e(function(e){return console.log("action"),{type:p,code:e}}(t))}}}var D=Object(o.c)(A,T);t.default=Object(i.d)(D,c.memo)(I)},72:function(e,t,n){"use strict";function c(e){return!0}n.d(t,"a",(function(){return c}))},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(){return"https://e7c274ef.ngrok.io"}},77:function(e,t,n){"use strict";n(67),n(68),n(70),n(69),n(71);var c=n(0),r=n.n(c),a=(n(14),n(18)),o=n(1),i=n.n(o),u=n(76),s=n(72),l=n(31);function d(e,t){return function(n,c){t||Object(s.a)(e),i()(Object(u.isString)(n)&&!Object(u.isEmpty)(n)&&Object(u.isFunction)(c),"(src/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===c||(e.injectedReducers[n]=c,e.replaceReducer(Object(l.a)(e.injectedReducers)))}}function f(e){return Object(s.a)(e),{injectReducer:d(e,!0)}}n.d(t,"a",(function(){return p}));var p=function(e){var t=e.key,n=e.reducer,c=r.a.useContext(a.b);r.a.useEffect((function(){f(c.store).injectReducer(t,n)}),[])}},79:function(e,t,n){"use strict";function c(e){return 204===e.status||205===e.status?null:e.json()}function r(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function a(e,t){return fetch(e,t).then(r).then(c)}n.d(t,"a",(function(){return a}))},81:function(e,t,n){"use strict";n(67),n(68),n(70),n(69),n(71);var c=n(0),r=n.n(c),a=(n(14),n(18)),o=n(32),i=n(1),u=n.n(i),s=n(76),l=n(72),d="@@saga-injector/daemon",f="@@saga-injector/once-till-unmount";function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){return u()(Object(s.isString)(e)&&!Object(s.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")};function j(e,t){return function(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;t||Object(l.a)(e);var a=m({},c,{mode:c.mode||d}),o=a.saga,i=a.mode;g(n);var u=Reflect.has(e.injectedSagas,n);(!u||u&&i!==d&&i!==f)&&(e.injectedSagas[n]=m({},a,{task:e.runSaga(o,r)}))}}function b(e,t){return function(n){if(t||Object(l.a)(e),g(n),Reflect.has(e.injectedSagas,n)){var c=e.injectedSagas[n];c.mode&&c.mode!==d&&(c.task.cancel(),e.injectedSagas[n]="done")}}}function O(e){return Object(l.a)(e),{injectSaga:j(e,!0),ejectSaga:b(e,!0)}}n.d(t,"a",(function(){return v}));var v=function(e){var t=e.key,n=e.saga,c=e.mode,o=r.a.useContext(a.b);r.a.useEffect((function(){var e=O(o.store);return e.injectSaga(t,{saga:n,mode:c}),function(){e.ejectSaga(t)}}),[])}}}]);
//# sourceMappingURL=12.aa7bb17c.chunk.js.map